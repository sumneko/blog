一年前我因为《赛马娘2》的动画而入坑了《赛马娘》手游日服，如今《赛马娘》手游已经开服了一年，
一周年的新版本中我花了大概3天的时间把我的竞技场马娘全部更新了一遍后，就又回到了“付费扫荡”状态。
《赛马娘》在日本算是一个爆款手游，但是评价比较两极分化，尤其是一周年版本推出的新剧本更是加剧了这个现象，
我也结合一下我的实际体验，回过头来看一看这个手游的发展过程。

# 游戏简介
先为没有玩过《赛马娘》手游的朋友“简单”介绍一下这个游戏：

## 基本玩法
游戏分成2大部分：育成（PVE）与外围（PVP）。
* 育成：选择一个模板马娘，例如`小栗帽`，进行一个大约75回合的养成玩法。该玩法类似于《女〇梦工厂》，每回合你可以选择安排马娘进行训练来提升各种属性，或是进行休息或外出游玩回复体力与干劲，或是进行比赛来获得技能点。75回合结束后（或者因为玩的太菜中间的关卡任务没能通过被提前丢了出来），你的马娘将会保留当前的数值，永久进入你的`殿堂`。因此如何在有限的回合中尽量提升属性以及学会强力的技能，是这个模式的主要玩法。
* 外围：外围和一般的手游玩法差不多，你需要将你通过`育成`培养出来的马娘拿来和其他玩家进行对战（如竞技场与大赛），或是利用她们通过主线剧情以及刷材料本、日常本等。

## 非游戏性部分
上面的“基本玩法”是一般游戏玩家关注的游戏性相关的部分，但《赛马娘》作为一个厨力游戏，还有很多非游戏性的部分，包括：live（演唱会）、比赛演出、个人剧情等。不过我不是厨力党（主要是看不懂日文），因此非游戏性部分不在此文的重点讨论范畴内。

## 付费方式
依然是传统的抽卡模式，有2种池子：马娘以及支援卡。在进行育成时，你可以选择带入5张支援卡（外加可以从其他玩家那里借一张支援卡），这些支援卡的强度会大幅度的影响你的马娘育成结果。因此强力的支援卡会有大量的玩家氪金。而相比之下马娘本身对育成的结果影响比较小，因此主要是一些人气高的马娘会吸引氪金。虽然马娘对育成结果的影响比较小，但是在相同的育成结果下有些马娘的实战能力是会比其他马娘强上很多的，这个会在之后的具体数值与机制篇讨论。

## 比赛与属性
育成出来的马娘强不强，最终是要通过比赛来体现的。马娘的比赛需要6~18只马娘参加，剩下的位置会由系统生成的马娘填充。整个比赛是自动完成的，没有任何操作空间，实际上就是服务器一瞬间计算完了比赛后，将数据发给客户端后播放录像。

### 比赛规则
比赛的规则很简单，所有的马娘一字排开，闸门打开后跑向终点，第一个到达终点的为“**获胜**”，第2~第5为“**入着**”，之后为“**败北**”。虽然这里分出了“**入着**”，但实际上“**获胜**”与“**入着**”之间的收益差距巨大，因此玩家一般都是看是否能“**获胜**”。

### 比赛阶段
游戏会将赛道大致平分为3段，分别叫做`序盘`、`中盘`与`终盘`。口语中为了区分一般将`终盘`称为`最终盘`或`冲刺阶段`。马娘在比赛时有4种战术:`逃げ`（领跑）、`先行`、`差し`（穿插）、`追込`（追赶），顾名思义，`逃马`会在`序盘`发力，而`追马`会在`终盘`发力。

### 比赛机制
《赛马娘》为了追求真实性（以及增加数据的纬度），引入了大量的系统与子系统，使得比赛中马娘的表现与属性之间的对应关系对于玩家来说如同一个黑箱。最开始很多研究者通过控制变量法以及掐秒表，通过观察马娘在比赛中的表现等，总结出了大致的关系，在蛮荒期中为广大玩家提供了大量的理论基础。几个月后《赛马娘》的解包顺利完成，从此游戏进入了科学养马时代。之所以能解包，是因为游戏中存在不需要联网的PVE内容，因此客户端也有一份和服务器完全相同的“战斗引擎”。要是当年《赛马娘》把这些PVE内容也做成服务器计算客户端播录像的形式，恐怕比赛机制至今还是个黑箱。当然作为一个“简单”介绍，我不会深入每个系统。

游戏会将比赛分成很多逻辑帧，每一帧会遍历所有的马娘进行以下处理：
>（注意，以下使用数值并不是公式中的实际数值，使用的也是简化过的公式，仅仅作为示意）

1. 根据自己的`战术`与当前比赛阶段设定自己的`巡航速度`，例如`逃马`在`序盘`会将自己的`巡航速度`设置为`20.3米/秒`，在`中盘`则会将自己的`巡航速度`设置为`19.8米/秒`。
2. 如果自己的`当前速度`小于`巡航速度`，则会按照`加速度`提升自己的`当前速度`。
3. 如果自己的`当前速度`大于`巡航速度`，则会按照一个固定值减速（除非当前处于`暂时提高速度`的状态中，比如发动了技能）。
4. 如果自己所处跑道前方有其他马娘，则会尝试向附近相对空闲的跑道进行变道，这会使用`变道速度`积累`变道进度`，当`变道进度`积累满后变道完成。当然在变道完成前你是无法穿过前方的马娘的。此外跑在前面的马娘会倾向于向内道变道。
5. 如果自己不是`逃马`，也不处于`冲刺状态`，那么会启用`位置意识`，根据自己的战术判断与`逃马`之间的距离，太近则会减速，太远则会加速，使自己尽量留在当前集团中。
6. 如果当前处于`终盘`且马娘预估自己剩余的`体力`足够，则会进入`冲刺状态`，此时会将`巡航速度`设置为自己的`冲刺速度`，如`25米/秒`。

利用这些信息我们就可以自己实现一个简单的赛马模拟器了。事实上在不考虑变道等随机因素的情况下，属性相同的白板马娘使用不同的战术会同时冲线。（最开始`追込`会比其它战术早1秒冲线，不过之后就改回了同时冲线）

接下来我们要引入属性，《赛马娘》中马娘有5个基础属性：
* **速度**：该属性主要会影响马娘在`冲刺状态`的`冲刺速度`，使你在`冲刺状态`跑的更快。此外会小幅影响马娘平时的`巡航速度`，使得马娘平时在集团中跑的更靠前。这个属性在实际计算时需要开根号，也就是存在边际效益，但无论如何它也是实打实的提升马娘的速度，因此是最重要的属性。该属性作为基准属性，给与`1.0`的价值评分。
* **耐力**：该属性会影响马娘在比赛开始时拥有的`体力`，该转换为线性转换。马娘在跑步时会根据自己的`当前速度`持续消耗体力，提高`当前速度`会导致`体力`的消耗速度以**平方**的关系提高。一场比赛中消耗的`体力`，`序盘`与`中盘`约占1/3，而`终盘`约占2/3。当`体力`耗尽后，马娘会将自己的`巡航速度`设置为`最低速度`，大约是`15米/秒`。该属性的价值受到阈值的影响，一般认为`短距离`（1200米以下）的比赛只需要300~400`耐力`即可做到进入`终盘`后剩余的`体力`足够立即进入`冲刺状态`，而长距离则要1000以上的`耐力`。在达到目标阈值之前，`耐力`的价值大约为`5.0`，达到阈值后会快速衰减到`0.1`。
* **力量**：该属性主要会影响马娘的`加速度`与`变道速度`，同样在实际计算的时候需要开根号，存在边际收益。实际上由于马娘在进入`冲刺状态`需要进行大幅的加速，而`加速度`越高就能越快的到达`冲刺速度`，因此力量是仅次于速度的重要属性，价值大约是`0.8`。
* **根性**：该属性主要会影响马娘的`最小速度`，即`体力`耗尽后的`巡航速度`。此外还会降低`冲刺状态`消耗的`体力`。实际计算的时候依然要开根号，但就算你把根性堆满了，`最小速度`依然赶不上平时的`巡航速度`，更别说其他马娘处于`冲刺速度`了。这个属性原本的价值是`0.1`，属于“狗都不点”。然而《赛马娘》一周年版本中对这个属性进行了加强，使得这个属性还会小幅提升`冲刺速度`，并且引入了新的子系统`竞争`（使用相同战术的马娘有几率触发竞争，根据自己的`根性`暂时提高`当前速度`）。加强后经过大家的综合感受，这个属性的价值成功提升了几倍，达到了`0.3`。
* **智力**：该属性主要会影响马娘的`技能发动率`，并小幅影响马娘平时的`巡航速度`。此外它还有很多其他零碎的功能，但全都是以“**几率**”的形式提现，收益非常不稳定。比如它影响`巡航速度`的方式，是因为马娘跑步时`巡航速度`会有个随机的波动，而智力可以提升这个波动的区间。根据实际经验来看，它的总体价值约为`0.5`。

最后我们引入技能，《赛马娘》中马娘有4种技能：
* **被动**：只要符合条件就会立即发动，持续整局比赛。例如“右回り”可以让你在**顺时针跑道**上提升`速度`属性。被动技能是必定发动的，但其他技能会在比赛开始时根据`智力`属性随机决定能否发动（或者理解为随机禁用掉一部分主动技能）。
* **加速**：发动后获得速度优势的技能，持续一段时间。例如“勝利への執念”可以让你在**中距离**的比赛中在**最终弯道**被其他马娘**超越**时，暂时提升自己的`速度`与`加速度`。
* **回复**：发动后回复体力的技能，按照数值模型来计算的话，回复类技能的性价比超过耐力属性，因此在中长距离的比赛中会尽量学习回复类技能。例如“火事場のバ鹿力”可以让你在**长距离**的比赛中，剩余`体力`小于30%时回复大量`体力`。
* **妨碍** 发动后妨碍对手马娘的技能，例如“悩殺術”可以让你在**短距离**比赛的**序盘**时暂时降低身后马娘的速度。

此外每个马娘都会有个自己的**固有技能**，该技能不受智力影响，满足条件就会发动，且数值会比能学到的技能高一点。这个技会大幅左右不同马娘之间的相对强度。

### 胜利的方程式
看完比赛机制后，你会发现马娘这个游戏可以抽象成简单的3个阶段（假定体力足够）：
1. `序盘`与`中盘`大家分成4个集团一起散步。
2. `冲刺状态`前半程从散步加速到`冲刺速度`
3. `冲刺状态`后半程以`冲刺速度`跑完剩下的比赛

抽象成这3个阶段后，你可能会有一些疑惑：第1阶段由于`位置意识`的存在，大家始终会留在自己的集团里，那么此时发动加速技能有用吗？这个问题的答案就是：确实没什么用。增加**速度**类的技能此时收益极低，大概可以提供`0.1`个身位的优势。而增加**加速度**类的技能收益就更低了，要是此时马娘正好在`巡航速度`，甚至由于跑的太快而在减速，那么技能的收益直接就是`0`。而到了第2阶段大家都在加速，此时增加**速度**类的技能收益为`0`，但增加**加速度**类的技能收益极高，甚至可以提供`5`个身位的优势。第3阶段时的**速度**类技能收益较高，但是依然比不上第2阶段**加速度**类技能的收益，大概收益为`1`个身位。

首先我们需要感叹一下，技能与技能之间就是如此的不平衡，这也是受制于整个比赛机制导致的结果。因此想要赢得比赛，一般就是从这几个方面入手（排名区分先后）：
1. 可以稳定在`中盘`结束时或`终盘`开始时发动的**加速度**类技能
2. 可以稳定在`中盘`结束前发动的**速度**类技能，持续时间覆盖到`终盘`开始，使马娘可以提前加速
3. 可以稳定在`终盘`后半程发动的**速度**类技能
4. 不稳定的**加速度**技能，万一`冲刺阶段`开始时发动就赚了
5. 不稳定的**速度**类技能，万一达到`冲刺速度`后发动可以带来些许优势
> 逃马不受位置意识影响，因此**速度**类技能有比较稳定的收益

## 育成与策略
《赛马娘》中主要...或者说唯一的游戏性部分便是育成，前文已经提到过这是在大约75个回合内尽可能的提升属性与技能，这里再略微展开说一下

### 行动
每个回合可以从以下行动中选择一个：
* **训练**：选择一个属性进行训练，除了**智力**以外都要消耗大约20点体力，而**智力**则会回复5点体力。如果你的当前体力比较低，则训练会有一定几率失败，除**智力**以外的属性大约小于50点体力时便会开始有失败率，**智力**则为大约25点体力时才会有失败率。训练时除了当前选择的属性，还会少量提升其他属性并获得少量的技能点。
* **休息**：回复50点体力。有一定几率失眠只能回复30点，也有一定几率能暴击回复70点，不过由于体力上限为100，而且由于失败率的存在一般不会等到30点体力以下时才休息，因此暴击回复的体力一般会有一部分溢出。
* **出游**：提升1~2级干劲，回复0~30点体力。
* **治疗**：马娘有可能会获得负面状态，比如训练失败后获得**不擅长训练**会产生一个永久的训练失败率。选择此行动可以回复20点体力，并有几率消除一个负面状态。
* **参赛**：选择一场正在进行中的比赛，临时报名当场参赛。进行比赛可以获得少量的属性加成以及获得大量技能点，但是赛后会扣除15点体力。进行中的比赛是基于当前的回合数固定的，自然是约强力的比赛收益越高，但是一般来说是不如训练的。参加比赛可没有失败率一说，赛后扣除体力时不够扣也不会有额外的惩罚，只是如果你是0点体力参加比赛或是连续3个回合以上参加比赛，有可能会获得一个“皮肤粗糙”的负面状态。如果连续4个回合以上参加比赛，则有可能会受到属性降低30点的惩罚。

### 训练
马娘的育成属性结果主要还是来自训练的策略与运气，这里需要介绍一下训练时获得的属性受到哪些部分的影响，为之后的氪金核心**支援卡**解析埋下伏笔。

* **基础数值**：每个训练项目有固定的基础数值，例如**速度训练**为大约获得10点**速度**与3点**力量**。
* **设施等级**：训练项目可以升级，在初始的URA剧本中，某个训练项目进行4次训练后就会提升一级，会使此训练的产出提升大约25%，最多提升4次，也就是变为2倍的产出。
* **角色加成**：每个角色有总计30%的属性加成，以**小栗帽**为例，她的速度加成为`20%`，因此可以额外从训练中获得1.2倍的速度属性（与所有其它加成乘算，向下取整，下同）。
* **训练加成**：还记得之前提到你可以携带6张支援卡嘛，这代表了本次育成会有6个其她角色和你陪练。每回合他们会随机出现在某个训练项目上（也有一定的几率旷课，没有出现在任何训练项目上），这会提升该训练的收益。每个支援角色会提供`5%`的加成，支援卡有个**训练效果**属性可以提升此数值。而一个项目上做多可以出现5个支援角色，她们互相乘算。我们假设每个支援角色的**训练效果**属性为10，那么当5个这样的角色同时出现在一个训练项目上时，此训练可以获得`1.15^5 = 2.011`倍的属性。
* **干劲加成**：马娘初始处于**普通**状态，向上为**好调**与**绝好调**，向下为**不调**与**绝不调**。处于**绝好调**时可以从训练中额外获得20%的属性。支援角色也有个**干劲效果**的属性会提升此数值，以常见的`30`为例，如果有5个这样的角色都处于该训练项目上，则此训练可以获得`1 + 0.2 * 1.3^5 = 1.743`倍的属性。
* **友情训练**：支援角色有个**羁绊**值，每次与其一起训练或是随机到了相关的事件后，羁绊值就会获得提升。当提升到大约80点后，当支援角色处于对应属性的训练上时就会获得额外的训练加成，此时训练按钮以及她们的头像上会出现“彩圈”。彩圈加成由支援卡的**友情训练**决定，基本上都是25，因此5个角色一起时就会使训练获得`1.25^5 = 3.052`倍的属性。

总结一下，初始时你进行1级速度训练大概可以获得`10 + 3 = 13`点属性，而绝好调进行满级的速度训练加上`0/1/2/3/4/5`彩圈则分别可以获得大约`31/47/71/111/174/278`的总属性。不过由于单个属性单次训练最多只能获得100属性，4彩圈开始就会溢出很多属性。

因此一般的策略便是，在携带类型合理的支援卡的情况下，尽快拉满关键角色的羁绊，优先提升主要属性的训练设施等级。当训练效果较好的时候（随机到的陪练比较多）进行训练，训练效果比较差的时候休息或参加比赛。当然整个育成过程中肯定会无法避免的出现仅剩30体力但是刷出了3彩圈可以获得100多属性，于是顶着30%的失败率去赌训练的情况。

### 马娘
前面有提到过马娘会自带30%的训练加成，分配在不同的属性上，分配方式的不同也会影响整体的育成结果。

例如最优秀的**小栗帽**为20%的速度加成与10%的力量加成，由于**速度训练**会提升**速度**与少量**力量**，**力量训练**会提升**力量**与少量**耐力**，因此早期大家支援卡不好的情况下使用3速3耐的支援卡配置就可以比较轻松的将**速度**与**力量**拉倒上限1200，同时耐力也能达到需要的阈值。而**琵琶晨光**那10%的根性与20%的智力加成就略显尴尬。

此外给马娘**升星**可以带来每个属性10点的基础属性提升，但由于性价比实在太低了一般不会特意消耗大量资源去给马娘升星。升满5星后马娘的每个属性初始大约为100点，而育成中属性可以达到的上限为1200点。

### 支援卡
从上文的训练篇可以了解到，训练卡才是这个游戏的数值核心。

目前支援卡分为**速度**、**耐力**、**力量**、**根性**、**智力**以及**友人**6种，其中前5种没有太大区别，她们的类型主要决定了能在哪个训练项目上提供**友情训练**（彩圈）。除了上文提到的那些可以直接加成训练效果的属性以外，主要还有**初始羁绊**、**得意率**（提升支援角色出现在对应训练项目上的几率）、**赛后加成**（提升参加比赛获得的属性）等属性。她们还会有个固定的技能池，与支援角色一起训练或是随机触发特定的剧情时有机会可以获得技能池中的技能。其中`SSR`等级的支援卡还可以通过随机触发特定的系列剧情获得特定的**稀有技能**，这个会在之后的回顾中提及。

**智力**卡还会提供**友情体力回复**属性，使你在进行智力的**友情训练**时回复更多的体力。
**友人**卡无法提供**友情训练**（彩圈），但是一般她们会有较高的**训练加成**，并且提供独特的**降低失败率**与**降低体力消耗**属性，还会提供一个限定次数的**友人出游**行动，可以获得属性、回复体力、治病等功能。

支援卡是有等级的，**R**等级的卡最高为20级，**SR**为25级，**SSR**为30级。当获得重复的支援卡后可以将支援卡突破一次，使其等级上限提升5级，最多突破4次。因此满破的**SR**卡为45级，满破的**SSR**卡为50级。

由于支援卡升级的提升巨大，因此需要把强力的支援卡尽量满破并升到满级。而这个数值设计也导致了很多强力的**SSR**卡必须要重复抽出4~5张才能用，否则数值可能比不上其它强力的满破**SR**或是稍逊一筹的3破45级**SSR**，可以说是相当重氪了。

游戏中每个月的活动、主线剧情等都会赠送各类的满破**SSR**，当然质量就比较一般了，大概是**SR**卡的水平。顺便一说买《赛马娘2》动画赠送的**SSR**水平堪比**R**卡。（卡池中也有一张**SSR**卡的属性堪比**R**卡，我不说是谁）。

