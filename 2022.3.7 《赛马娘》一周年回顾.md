一年前我因为《赛马娘2》的动画而入坑了《赛马娘》手游日服，如今《赛马娘》手游已经开服了一年，
一周年的新版本中我花了大概3天的时间把我的竞技场马娘全部更新了一遍后，就又回到了“付费扫荡”状态。
《赛马娘》在日本算是一个爆款手游，但是评价比较两极分化，尤其是一周年版本推出的新剧本更是加剧了这个现象，
我也结合一下我的实际体验，回过头来看一看这个手游的发展过程。

# 游戏简介
先为没有玩过《赛马娘》手游的朋友“简单”介绍一下这个游戏：

## 基本玩法
游戏分成2大部分：育成（PVE）与外围（PVP）。
* 育成：选择一个模板马娘，例如`小栗帽`，进行一个大约75回合的养成玩法。该玩法类似于《女〇梦工厂》，每回合你可以选择安排马娘进行训练来提升各种属性，或是进行休息或外出游玩回复体力与干劲，或是进行比赛来获得技能点。75回合结束后（或者因为玩的太菜中间的关卡任务没能通过被提前丢了出来），你的马娘将会保留当前的数值，永久进入你的`殿堂`。因此如何在有限的回合中尽量提升属性以及学会强力的技能，是这个模式的主要玩法。
* 外围：外围和一般的手游玩法差不多，你需要将你通过`育成`培养出来的马娘拿来和其他玩家进行对战（如竞技场与大赛），或是利用她们通过主线剧情以及刷材料本、日常本等。

## 非游戏性部分
上面的“基本玩法”是一般游戏玩家关注的游戏性相关的部分，但《赛马娘》作为一个厨力游戏，还有很多非游戏性的部分，包括：live（演唱会）、比赛演出、个人剧情等。不过我不是厨力党（主要是看不懂日文），因此非游戏性部分不在此文的重点讨论范畴内。

## 付费方式
依然是传统的抽卡模式，有2种池子：马娘以及支援卡。在进行育成时，你可以选择带入5张支援卡（外加可以从其他玩家那里借一张支援卡），这些支援卡的强度会大幅度的影响你的马娘育成结果。因此强力的支援卡会有大量的玩家氪金。而相比之下马娘本身对育成的结果影响比较小，因此主要是一些人气高的马娘会吸引氪金。虽然马娘对育成结果的影响比较小，但是在相同的育成结果下有些马娘的实战能力是会比其他马娘强上很多的，这个会在之后的具体数值与机制篇讨论。

## 比赛与属性
育成出来的马娘强不强，最终是要通过比赛来体现的。马娘的比赛需要6~18只马娘参加，剩下的位置会由系统生成的马娘填充。整个比赛是自动完成的，没有任何操作空间，实际上就是服务器一瞬间计算完了比赛后，将数据发给客户端后播放录像。

### 比赛规则
比赛的规则很简单，所有的马娘一字排开，闸门打开后跑向终点，第一个到达终点的为“**获胜**”，第2~第5为“**入着**”，之后为“**败北**”。虽然这里分出了“**入着**”，但实际上“**获胜**”与“**入着**”之间的收益差距巨大，因此玩家一般都是看是否能“**获胜**”。

### 比赛阶段
游戏会将赛道大致平分为3段，分别叫做`序盘`、`中盘`与`终盘`。口语中为了区分一般将`终盘`称为`最终盘`或`冲刺阶段`。马娘在比赛时有4种战术:`逃げ`（领跑）、`先行`、`差し`（穿插）、`追込`（追赶），顾名思义，`逃马`会在`序盘`发力，而`追马`会在`终盘`发力。

### 比赛机制
《赛马娘》为了追求真实性（以及增加数据的纬度），引入了大量的系统与子系统，使得比赛中马娘的表现与属性之间的对应关系对于玩家来说如同一个黑箱。最开始很多研究者通过控制变量法以及掐秒表，通过观察马娘在比赛中的表现等，总结出了大致的关系，在蛮荒期中为广大玩家提供了大量的理论基础。几个月后《赛马娘》的解包顺利完成，从此游戏进入了科学养马时代。之所以能解包，是因为游戏中存在不需要联网的PVE内容，因此客户端也有一份和服务器完全相同的“战斗引擎”。要是当年《赛马娘》把这些PVE内容也做成服务器计算客户端播录像的形式，恐怕比赛机制至今还是个黑箱。当然作为一个“简单”介绍，我不会深入每个系统。

游戏会将比赛分成很多逻辑帧，每一帧会遍历所有的马娘进行以下处理：
>（注意，以下使用数值并不是公式中的实际数值，使用的也是简化过的公式，仅仅作为示意）

1. 根据自己的`战术`与当前比赛阶段设定自己的`巡航速度`，例如`逃马`在`序盘`会将自己的`巡航速度`设置为`20.3米/秒`，在`中盘`则会将自己的`巡航速度`设置为`19.8米/秒`。
2. 如果自己的`当前速度`小于`巡航速度`，则会按照`加速度`提升自己的`当前速度`。
3. 如果自己的`当前速度`大于`巡航速度`，则会按照一个固定值减速（除非当前处于`暂时提高速度`的状态中，比如发动了技能）。
4. 如果自己所处跑道前方有其他马娘，则会尝试向附近相对空闲的跑道进行变道，这会使用`变道速度`积累`变道进度`，当`变道进度`积累满后变道完成。当然在变道完成前你是无法穿过前方的马娘的。此外跑在前面的马娘会倾向于向内道变道。
5. 如果自己不是`逃马`，也不处于`冲刺状态`，那么会启用`位置意识`，根据自己的战术判断与`逃马`之间的距离，太近则会减速，太远则会加速，使自己尽量留在当前集团中。
6. 如果当前处于`终盘`且马娘预估自己剩余的`体力`足够，则会进入`冲刺状态`，此时会将`巡航速度`设置为自己的`冲刺速度`，如`25米/秒`。

利用这些信息我们就可以自己实现一个简单的赛马模拟器了。事实上在不考虑变道等随机因素的情况下，属性相同的白板马娘使用不同的战术会同时冲线。（最开始`追込`会比其它战术早1秒冲线，不过之后就改回了同时冲线）

接下来我们要引入属性，《赛马娘》中马娘有5个基础属性：
* **速度**：该属性主要会影响马娘在`冲刺状态`的`冲刺速度`，使你在`冲刺状态`跑的更快。此外会小幅影响马娘平时的`巡航速度`，使得马娘平时在集团中跑的更靠前。这个属性在实际计算时需要开根号，也就是存在边际效益，但无论如何它也是实打实的提升马娘的速度，因此是最重要的属性。该属性作为基准属性，给与`1.0`的价值评分。
* **耐力**：该属性会影响马娘在比赛开始时拥有的`体力`，该转换为线性转换。马娘在跑步时会根据自己的`当前速度`持续消耗体力，提高`当前速度`会导致`体力`的消耗速度以**平方**的关系提高。一场比赛中消耗的`体力`，`序盘`与`中盘`约占1/3，而`终盘`约占2/3。当`体力`耗尽后，马娘会将自己的`巡航速度`设置为`最低速度`，大约是`15米/秒`。该属性的价值受到阈值的影响，一般认为`短距离`（1200米以下）的比赛只需要300~400`耐力`即可做到进入`终盘`后剩余的`体力`足够立即进入`冲刺状态`，而长距离则要1000以上的`耐力`。在达到目标阈值之前，`耐力`的价值大约为`5.0`，达到阈值后会快速衰减到`0.1`。
* **力量**：该属性主要会影响马娘的`加速度`与`变道速度`，同样在实际计算的时候需要开根号，存在边际收益。实际上由于马娘在进入`冲刺状态`需要进行大幅的加速，而`加速度`越高就能越快的到达`冲刺速度`，因此力量是仅次于速度的重要属性，价值大约是`0.8`。
* **根性**：该属性主要会影响马娘的`最小速度`，即`体力`耗尽后的`巡航速度`。此外还会降低`冲刺状态`消耗的`体力`。实际计算的时候依然要开根号，但就算你把根性堆满了，`最小速度`依然赶不上平时的`巡航速度`，更别说其他马娘处于`冲刺速度`了。这个属性原本的价值是`0.1`，属于“狗都不点”。然而《赛马娘》一周年版本中对这个属性进行了加强，使得这个属性还会小幅提升`冲刺速度`，并且引入了新的子系统`竞争`（使用相同战术的马娘有几率触发竞争，根据自己的`根性`暂时提高`当前速度`）。加强后经过大家的综合感受，这个属性的价值成功提升了几倍，达到了`0.3`。
* **智力**：该属性主要会影响马娘的`技能发动率`，并小幅影响马娘平时的`巡航速度`。此外它还有很多其他零碎的功能，但全都是以“**几率**”的形式提现，收益非常不稳定。比如它影响`巡航速度`的方式，是因为马娘跑步时`巡航速度`会有个随机的波动，而智力可以提升这个波动的区间。根据实际经验来看，它的总体价值约为`0.5`。

最后我们引入技能，《赛马娘》中马娘有4种技能：
* **被动**：只要符合条件就会立即发动，持续整局比赛。例如“右回り”可以让你在**顺时针跑道**上提升`速度`属性。被动技能是必定发动的，但其他技能会在比赛开始时根据`智力`属性随机决定能否发动（或者理解为随机禁用掉一部分主动技能）。
* **加速**：发动后获得速度优势的技能，持续一段时间。例如“勝利への執念”可以让你在**中距离**的比赛中在**最终弯道**被其他马娘**超越**时，暂时提升自己的`速度`与`加速度`。
* **回复**：发动后回复体力的技能，按照数值模型来计算的话，回复类技能的性价比超过耐力属性，因此在中长距离的比赛中会尽量学习回复类技能。例如“火事場のバ鹿力”可以让你在**长距离**的比赛中，剩余`体力`小于30%时回复大量`体力`。
* **妨碍** 发动后妨碍对手马娘的技能，例如“悩殺術”可以让你在**短距离**比赛的**序盘**时暂时降低身后马娘的速度。

此外每个马娘都会有个自己的**固有技能**，该技能不受智力影响，满足条件就会发动，且数值会比能学到的技能高一点。这个技会大幅左右不同马娘之间的相对强度。

### 胜利的方程式
看完比赛机制后，你会发现马娘这个游戏可以抽象成简单的3个阶段（假定体力足够）：
1. `序盘`与`中盘`大家分成4个集团一起散步。
2. `冲刺状态`前半程从散步加速到`冲刺速度`
3. `冲刺状态`后半程以`冲刺速度`跑完剩下的比赛

抽象成这3个阶段后，你可能会有一些疑惑：第1阶段由于`位置意识`的存在，大家始终会留在自己的集团里，那么此时发动加速技能有用吗？这个问题的答案就是：确实没什么用。增加**速度**类的技能此时收益极低，大概可以提供`0.1`个身位的优势。而增加**加速度**类的技能收益就更低了，要是此时马娘正好在`巡航速度`，甚至由于跑的太快而在减速，那么技能的收益直接就是`0`。而到了第2阶段大家都在加速，此时增加**速度**类的技能收益为`0`，但增加**加速度**类的技能收益极高，甚至可以提供`5`个身位的优势。第3阶段时的**速度**类技能收益较高，但是依然比不上第2阶段**加速度**类技能的收益，大概收益为`1`个身位。

首先我们需要感叹一下，技能与技能之间就是如此的不平衡，这也是受制于整个比赛机制导致的结果。因此想要赢得比赛，一般就是从这几个方面入手（排名区分先后）：
1. 可以稳定在`中盘`结束时或`终盘`开始时发动的**加速度**类技能
2. 可以稳定在`中盘`结束前发动的**速度**类技能，持续时间覆盖到`终盘`开始，使马娘可以提前加速
3. 可以稳定在`终盘`后半程发动的**速度**类技能
4. 不稳定的**加速度**技能，万一`冲刺阶段`开始时发动就赚了
5. 不稳定的**速度**类技能，万一达到`冲刺速度`后发动可以带来些许优势
> 逃马不受位置意识影响，因此**速度**类技能有比较稳定的收益
